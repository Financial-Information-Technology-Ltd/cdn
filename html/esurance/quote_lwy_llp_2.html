<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>{%(1)Step 2}</title>
<link rel="stylesheet" type="text/css" href="{STYLESHEET_PATH}">
</head>
<body ONLOAD="OnLoad()">
  <form action="%SERVLET_PATH%" method="post">
    {ERRORS}
    <table>
      <tr>
        <td class="title" colspan="2">{HELP_LINK}{%(2)Policy Details}</td>
      </tr>
      <tr>
        <th style="width: 30%">{%(4)Policy Term}</th>
        <td>
          <input name="MaturityYears" size="8">
        </td>
      </tr>
      <tr>
        <th>{%(3)Sum Assured}</th>
        <td>
          <input type="text" name="FaceAmount">
        </td>
      </tr>
      <tr>
        <th>{%(5)Payment Frequency}</th>
        <td>
          <select name="Frequency">
            <option value="">&nbsp;</option>
          </select>
        </td>
      </tr>
      <tr>
        <th>{%(6)Annual Income}</th>
        <td>
          <input type="text" name="Owner_AnnualIncome" size="12" onchange="processJCRiders();">
        </td>
      </tr>
      <!--%(ANNUITY_ON_CLAIM)-->
      <tr>
        <th>{%(7)Benefit Period}</th>
        <td>
          <input type="text" name="AnnuityOnClaimTermYears" size="8">
        </td>
      </tr>
      <tr>
        <th>{%(8)Benefit Escalation Rate}</th>
        <td>
          <select name="AnnuityOnClaimEscalationRate">
            <option value="">&nbsp;</option>
          </select>
        </td>
      </tr>
      <!--%-->
    </table>
    <!--%(ADDITIONAL_RIDERS)-->
    <table>
      <tr>
        <th colspan="4">{%(41)Additional Riders}</th>
      </tr>
      <tr>
        <th style="width: 40">&nbsp;</th>
        <th>{%(42)Product}</th>
        <th>&nbsp;</th>
      </tr>
      <!--{RIDER_LIST}-->
    </table>
    <!--%-->
    <table class="navigation">
      <tr>
        <td align="left">
          <input type="submit" class="button" name="PrevButton" value="&lt; {%(101)Previous}">
        </td>
        <td align="right">
          <input type="submit" class="button" name="SubmitButton" value="{%(102)Next} &gt;">
        </td>
      </tr>
    </table>
    <input type="hidden" name="DOCN_LANGUAGE" value="EN">
    <input type="hidden" name="Coverage_{BASE_PLAN}_JC256_MaxFaceAmount">
    <input type="hidden" name="Coverage_{BASE_PLAN}_JC2512_MaxFaceAmount">
    <input type="hidden" name="Coverage_{BASE_PLAN}_JC506_MaxFaceAmount">
    <input type="hidden" name="Coverage_{BASE_PLAN}_JC5012_MaxFaceAmount">
  </form>
  <script type="text/javascript">
function processJCRiders()
{
  processJCRider("JC256",0.25);
  processJCRider("JC2512",0.25);
  processJCRider("JC506",0.5);
  processJCRider("JC5012",0.5);
}
function processJCRider(rider,salary_mult)
{
  element = document.forms[0].elements["Coverage_{BASE_PLAN}_"+rider];
  if (typeof(element)=="undefined")
    return;
  if (element.checked)
  {
    element_sa_name = "Coverage_{BASE_PLAN}_"+rider+"_FaceAmount";
    element_sa = document.forms[0].elements[element_sa_name];
    if (typeof(element_sa)=="undefined")
      return;
    element_sa.readOnly = true;
    element_salary = document.forms[0].elements["Owner_AnnualIncome"];
    if (typeof(element)=="undefined")
      salary = 0;
    else
      salary = parse_float(element_salary.value);
    element_sa.value = Math.round((salary*salary_mult/12) * 100) / 100;
    element_max_sa_name = "Coverage_{BASE_PLAN}_"+rider+"_MaxFaceAmount";
    console.log(element_sa.value);
    element_max_sa = document.forms[0].elements[element_max_sa_name];
    if (typeof(element_max_sa)!="undefined")
    {
      max_sa = parse_float(element_max_sa.value);
      if (!isNaN(max_sa)&&max_sa>0&&element_sa.value>max_sa){
        element_sa.value = max_sa;
      }
    }
    float_changed(element_sa_name,2);
  }
}
function OnLoad()
{
  processJCRiders();
}
</script>
</body>
</html>
