<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>{%(1)Step 3}</title>
<link rel="stylesheet" type="text/css" href="{STYLESHEET_PATH}">
</head>
<body onload="form_load()">
  <form method="post" action="%SERVLET_PATH%">
    {ERRORS}
    <table>
      <tr>
        <td class="title" colspan="2">{HELP_LINK}{%(2)Policy Details}</td>
      </tr>
      <tr>
        <td style="width: 30%">{%(4)Start Date}</td>
        <td>
          <input name="StartDate" size="10">
          {DATE_FORMAT}
        </td>
      </tr>
      <tr>
        <td>{%(5)Payment Term}</td>
        <td>
          <input name="PaymentTerm" onchange="total_premium()" size="10">
          {%(15)(min. 10 years)}
        </td>
      </tr>
      <tr>
        <td>{%(6)Premium Amount}</td>
        <td>
          <input name="PremiumAmount" onchange="total_premium()" size="20">
          ({%(9)min.} {MINIMUM_PREMIUM_MONTH} Euro)
        </td>
      </tr>
      <tr>
        <td>{%(7)Mode/Method}</td>
        <td>
          <select name="ModeMethod" onchange="total_premium()">
            <option value="">&nbsp;</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>{%(8)Total Premium}</td>
        <td>
          <input name="TotalPremium" tabindex="-1" disabled onkeypress="return false" size="20">
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <th colspan="2">{%(10)Risk Cover}</th>
      </tr>
      <tr>
        <td>{%(11)If no level of cover is selected, death cover is set at 101% of policy value}</td>
      </tr>
      <tr>
        <td>
          <input type="checkbox" value="ON" name="LifeCover_200" onclick="life_cover_200()">
          {%(12)60% of the modal premium}
        </td>
      </tr>
      <tr>
        <td>
          <input type="checkbox" value="ON" name="LifeCover_300" onclick="life_cover_300()">
          {%(13)100% of the modal premium}
        </td>
      </tr>
      <tr>
        <td>
          <input type="checkbox" value="ON" name="DynamicOptionBox" onclick="dynamic_option()">
          {%(14)I do not want to use the dynamic option for annual increase in premiums}
        </td>
      </tr>
    </table>
    <table class="navigation">
      <tr>
        <td align="left">
          <input class="button" name="PrevButton" type="submit" value="&lt; {%(19)Previous}">
        </td>
        <td align="right">
          <input class="button" name="NextButton" type="submit" value="{%(20)Next} &gt;">
        </td>
      </tr>
    </table>
    <input type="hidden" name="LifeCover" value="2">
    <input type="hidden" name="DynamicOption" value="0">
    <input type="hidden" name="MaturityType" value="W">
  </form>
  <script type="text/javascript">
function total_premium()
{
  p_element = document.forms[0].elements["PremiumAmount"];
  if (typeof(p_element)=="undefined")
    return;
  m_element = document.forms[0].elements["ModeMethod"];
  if (typeof(m_element)=="undefined")
    return;
  t_element = document.forms[0].elements["PaymentTerm"];
  if (typeof(t_element)=="undefined")
    return;
  v_element = document.forms[0].elements["ModeMethodMult"];
  if (typeof(v_element)=="undefined")
    return;
  r_element = document.forms[0].elements["TotalPremium"];
  if (typeof(r_element)=="undefined")
    return;
  premium = parse_float(p_element.value);
  if (isNaN(premium))
    return;
  s = format_float(premium,2);
  if (s!=p_element.value)
    p_element.value = s;
  term = parseInt(t_element.value);
  if (isNaN(term))
    return;
  pos = m_element.selectedIndex;
  if (pos==0)
    return;
  mult = 0;
  cnt = 0;
  s = "";
  value = v_element.value;
  for (i=0; i<=value.length; i++)
  {
    if (i==value.length)
    {
      if (cnt==pos)
        mult = parseInt(s);
      break;
    }
    if (value.charAt(i)==';')
    {
      if (cnt==pos)
      {
        mult = parseInt(s);
        break;
      }
      cnt++;
      s = "";
    }
    else
     s += value.charAt(i);
  }
  if (isNaN(mult))
  {
    r_element.value = "";
    return;
  }
  if (mult==0)
  {
    r_element.value = "";
    return;
  }
  v = Math.round(premium*mult*term);
  if (v<100)
  {
    r_element.value = "";
    return;
  }
  r_element.value = format_float(v,2);
}
function life_cover_200()
{
  element = document.forms[0].elements["LifeCover"];
  if (typeof(element)=="undefined")
    return;
  element_200 = document.forms[0].elements["LifeCover_200"];
  if (typeof(element_200)=="undefined")
    return;
  element_300 = document.forms[0].elements["LifeCover_300"];
  if (typeof(element_300)=="undefined")
    return;
  if (element_200.checked)
  {
    element.value = "200";
    element_300.checked = false;
  }
  else
   element.value = "2";
}
function life_cover_300()
{
  element = document.forms[0].elements["LifeCover"];
  if (typeof(element)=="undefined")
    return;
  element_200 = document.forms[0].elements["LifeCover_200"];
  if (typeof(element_200)=="undefined")
    return;
  element_300 = document.forms[0].elements["LifeCover_300"];
  if (typeof(element_300)=="undefined")
    return;
  if (element_300.checked)
  {
    element_200.checked = false;
    element.value = "300";
  }
  else
   element.value = "2";
}
function form_load()
{
  element = document.forms[0].elements["LifeCover"];
  if (typeof(element)=="undefined")
    return;
  element_200 = document.forms[0].elements["LifeCover_200"];
  if (typeof(element_200)=="undefined")
    return;
  element_300 = document.forms[0].elements["LifeCover_300"];
  if (typeof(element_300)=="undefined")
    return;
  if (element.value=="200")
    element_200.checked = true;
  if (element.value=="300")
    element_300.checked = true;
  if (element.value=="0")
    element.value = "6";
  element = document.forms[0].elements["DynamicOption"];
  if (typeof(element)=="undefined")
    return;
  element1 = document.forms[0].elements["DynamicOptionBox"];
  if (typeof(element1)=="undefined")
    return;
  if (element.value=="1")
    element1.checked = false;
  else
    element1.checked = true;
}
function dynamic_option()
{
  element = document.forms[0].elements["DynamicOption"];
  if (typeof(element)=="undefined")
    return;
  element1 = document.forms[0].elements["DynamicOptionBox"];
  if (typeof(element1)=="undefined")
    return;
  if (element1.checked)
    element.value = "0";
  else
    element.value = "1";
}
</script>
</body>
</html>
